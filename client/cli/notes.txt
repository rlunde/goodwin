iI went to an interesting talk on coroutines and generators (in python), which
may be exactly the kind of thing I need for an event loop like the one I want. I'm
off to see what node.js has along those lines...

Here are Erik Swanson's slides from the talk I went to:
https://github.com/swans-one/pgh-python-generators-presentation

Here are some recommended python link:
http://www.dabeaz.com/coroutines/Coroutines.pdf
David Beazley's 3 hour tour of the above: https://www.youtube.com/watch?v=Z_OAlIhXziw
https://www.python.org/dev/peps/pep-0342/

And other python links:
http://masnun.com/2015/11/13/python-generators-coroutines-native-coroutines-and-async-await.html
https://docs.python.org/3/library/asyncio-task.html

Here are some javascript links:
Generator functions: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*
Callbacks vs coroutines: https://medium.com/@tjholowaychuk/callbacks-vs-coroutines-174f1fe66127
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator

I looked into the co and co-prompt stuff before, and couldn't understand how to use
them for what I wanted. If I'm feeling incredibly brave (and less sleep deprived) someday,
I may write a version of this that uses them and write about that in a blog. Or not.
https://github.com/tj/co
https://github.com/tj/co/wiki
https://github.com/tj/co-prompt

I tried installing node-debug, and got an error:
===============
$ npm install -g node-inspector

> v8-profiler@5.7.0 preinstall /usr/local/lib/node_modules/node-inspector/node_modules/v8-profiler
> node -e 'process.exit(0)'

npm ERR! Cannot read property 'pause' of undefined
===============
The online docs I saw said to downgrade npm to 5.3.0 to work around it, so I did this:
npm install -g npm@5.3.0

That installed it OK, but node-debug crashed:

node-debug index.js
module.js:487
    throw err;
    ^

Error: Cannot find module '_debugger'
    at Function.Module._resolveFilename (module.js:485:15)

It looks like that's a problem with NodeJS 8. Time to take a step back and try
something else.

I installed VS Code, and it let me debug the node script a lot more easily (still had
to figure out setting the configuration parameter: "console":"integratedTerminal")
